{"version":3,"sources":["../../src/pages/edit-list-item-modal/edit-list-item-modal.module.ts","../../src/pages/edit-list-item-modal/edit-list-item-modal.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { EditListItemModal } from './edit-list-item-modal';\n\n@NgModule({\n    declarations: [\n        EditListItemModal,\n    ],\n    imports: [\n        IonicPageModule.forChild(EditListItemModal),\n    ],\n    exports: [\n        EditListItemModal\n    ]\n})\nexport class EditListItemModalPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-list-item-modal/edit-list-item-modal.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, ViewController, NavParams, Loading, LoadingController } from 'ionic-angular';\nimport { ListItemService } from '../../providers/list-item-service';\nimport { ListService } from '../../providers/list-service';\nimport { ListItem, List } from '../../models/models';\n\n@IonicPage()\n@Component({\n    selector: 'grosh-edit-list-item-modal',\n    templateUrl: 'edit-list-item-modal.html',\n})\nexport class EditListItemModal {\n    public listItem: ListItem;\n    public sourceListId: string;\n    public itemName: string;\n    public quantity: string;\n    public loading: Loading;\n    public availableTransferLists: List[];\n    public selectedTransferListId: string;\n\n    constructor(\n        public viewCtrl: ViewController,\n        public navParams: NavParams,\n        public loadingCtrl: LoadingController,\n        public itemSvc: ListItemService,\n        public listSvc: ListService,\n    ) {\n        this.presentLoading();\n\n        const itemId = navParams.get('listItemId');\n        this.sourceListId = navParams.get('sourceListId');\n\n        if(!itemId) {\n            console.error('No id passed to EditListItemModal');\n            this.dismiss();\n        }\n        if(!this.sourceListId) {\n            console.error('No source list id passed to EditListItemModal');\n            this.dismiss();\n        }\n\n        this.itemSvc.getListItemById(itemId)\n            .first()\n            .subscribe(listItem => {\n                this.listItem = listItem;\n                this.loading.dismiss()\n                    .then(() => {\n                        this.loading = null\n                    });\n            })\n        this.listSvc.getAllActiveLists()\n            .first()\n            .subscribe((activeLists: List[]) => {\n                this.availableTransferLists = activeLists.filter((list: List) => list.$key != this.sourceListId);\n            })\n    }\n\n    presentLoading(): Promise<any> {\n        if (!this.loading) {\n            this.loading = this.loadingCtrl.create();\n            return this.loading.present();\n        } else {\n            return Promise.resolve(this.loading);\n        }\n    }\n\n    submitUpdate() {\n        this.presentLoading()\n            .then(() => {\n                this.itemSvc.updateListItem(this.listItem, this.sourceListId, this.selectedTransferListId)\n                    .subscribe(() => {\n                        this.dismiss();\n                    })\n            });\n    }   \n\n    dismiss() {\n        if (!!this.loading) {\n            this.loading.dismiss();\n        }\n        this.viewCtrl.dismiss({editedItem: this.listItem, transferListId: this.selectedTransferListId});\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-list-item-modal/edit-list-item-modal.ts"],"sourceRoot":""}